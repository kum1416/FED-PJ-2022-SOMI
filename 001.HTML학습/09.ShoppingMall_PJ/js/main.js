// ì‡¼í•‘ëª° ë°°ë„ˆ JS - 01.ê°€ë¡œë°©í–¥ ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ //

// HTMLíƒœê·¸ ë¡œë”©í›„ loadFní•¨ìˆ˜ í˜¸ì¶œ! ///
window.addEventListener("DOMContentLoaded", loadFn);

/***************************************************** 
    [ ìŠ¬ë¼ì´ë“œ ì´ë™ ê¸°ëŠ¥ì •ì˜ ]
    1. ì´ë²¤íŠ¸ ì¢…ë¥˜: click
    2. ì´ë²¤íŠ¸ ëŒ€ìƒ: ì´ë™ë²„íŠ¼(.abtn)
    3. ë³€ê²½ ëŒ€ìƒ: ìŠ¬ë¼ì´ë“œ ë°•ìŠ¤(#slide)
    4. ê¸°ëŠ¥ ì„¤ê³„:

        (1) ì˜¤ë¥¸ìª½ ë²„íŠ¼ í´ë¦­ì‹œ ë‹¤ìŒ ìŠ¬ë¼ì´ë“œê°€
            ë‚˜íƒ€ë‚˜ë„ë¡ ìŠ¬ë¼ì´ë“œ ë°•ìŠ¤ì˜ leftê°’ì„
            -100%ë¡œ ë³€ê²½ì‹œí‚¨ë‹¤.
            -> ìŠ¬ë¼ì´ë“œ ì´ë™í›„!!! 
            ë°”ê¹¥ì— ë‚˜ê°€ìˆëŠ” ì²«ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ
            lië¥¼ ì˜ë¼ì„œ ë§¨ë’¤ë¡œ ë³´ë‚¸ë‹¤!
            ë™ì‹œì— leftê°’ì„ 0ìœ¼ë¡œ ë³€ê²½í•œë‹¤!

        (2) ì™¼ìª½ë²„íŠ¼ í´ë¦­ì‹œ ì´ì „ ìŠ¬ë¼ì´ë“œê°€
            ë‚˜íƒ€ë‚˜ë„ë¡ í•˜ê¸°ìœ„í•´ ìš°ì„  ë§¨ë’¤ lië¥¼
            ë§¨ì•ìœ¼ë¡œ ì´ë™í•˜ê³  ë™ì‹œì— leftê°’ì„
            -100%ë¡œ ë³€ê²½í•œë‹¤.
            ê·¸ í›„ leftê°’ì„ 0ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜í•˜ì—¬
            ìŠ¬ë¼ì´ë“œê°€ ì™¼ìª½ì—ì„œ ë“¤ì–´ì˜¨ë‹¤.

        (3) ê³µí†µê¸°ëŠ¥: ìŠ¬ë¼ì´ë“œ ìœ„ì¹˜í‘œì‹œ ë¸”ë¦¿
            - ë¸”ë¦¿ ëŒ€ìƒ: .indic li
            - ë³€ê²½ ë‚´ìš©: ìŠ¬ë¼ì´ë“œ ìˆœë²ˆê³¼ ê°™ì€ ìˆœë²ˆì˜
            liì— í´ë˜ìŠ¤ "on"ì£¼ê¸°(ë‚˜ë¨¸ì§„ ë¹¼ê¸°->ì´ˆê¸°í™”!)

*****************************************************/

/****************************************** 
    í•¨ìˆ˜ëª…: loadFn
    ê¸°ëŠ¥: ë¡œë”© í›„ ë²„íŠ¼ ì´ë²¤íŠ¸ ë° ê¸°ëŠ¥êµ¬í˜„
******************************************/
function loadFn() {
    console.log("ë¡œë”©ì™„ë£Œ!");

    // ìŠ¬ë¼ì´ë“œ lië¦¬ìŠ¤íŠ¸
    let slist = document.querySelectorAll("#slide>li");

    // ì˜ë¼ë‚´ê¸°ë¡œ liìˆœë²ˆì´ ë’¤ì„ì´ë¯€ë¡œ ë¸”ë¦¿ë³€ê²½ ë§¤ì¹­ì„ ìœ„í•œ
    // ê³ ìœ ìˆœë²ˆì„ ì‚¬ìš©ìì •ì˜ ì†ì„±(data-)ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤!
    slist.forEach((ele, idx) => {
        // data-seq ë¼ëŠ” ì‚¬ìš©ìì •ì˜ ì†ì„± ë„£ê¸°
        ele.setAttribute("data-seq", idx);
    }); ////// forEach /////////////////

    // 1. ëŒ€ìƒì„ ì •
    // 1-1. ì´ë²¤íŠ¸ ëŒ€ìƒ: .abtn
    const abtn = document.querySelectorAll(".abtn");

    // 1-2. ë³€ê²½ ëŒ€ìƒ: #slide
    const slide = document.querySelector("#slide");

    // 1-3. ë¸”ë¦¿ ëŒ€ìƒ: .indic li
    const indic = document.querySelectorAll(".indic li");
    console.log(indic);

    // ê´‘í´ê¸ˆì§€ë³€ìˆ˜ : 0 - í—ˆìš©, 1 - ë¶ˆí—ˆìš©
    let prot = 0;

    // 2. ìŠ¬ë¼ì´ë“œ ë³€ê²½í•¨ìˆ˜ ë§Œë“¤ê¸°
    // í˜¸ì¶œì‹œ seqì— ë“¤ì–´ì˜¤ëŠ” ê°’ì¤‘ 1ì€ ì˜¤ë¥¸ìª½, 0ì€ ì™¼ìª½
    const goSlide = (seq) => {
        //  console.log("ìŠ¬ê³ ìš°!", seq);

        //  console.log("ëª»ë“¤ì–´ê°”ì–´!!!!");

        // ê´‘í´ê¸ˆì§€ ì„¤ì •í•˜ê¸° //////
        if (prot) return;
        prot = 1; // ì ê¸ˆ!
        setTimeout(() => {
            prot = 0; // í•´ì œ!
        }, 400); /// 0.4ì´ˆí›„ í•´ì œ! ///

        //  console.log("ë‚˜,ë“¤ì–´ì™”ì–´!!!");

        // 0. í˜„ì¬ì˜ ìŠ¬ë¼ì´ë“œ liìˆ˜ì§‘í•˜ê¸°
        let clist = slide.querySelectorAll("li");
        // clist -> current list í˜„ì¬ ë¦¬ìŠ¤íŠ¸

        // 1. ë°©í–¥ì— ë”°ë¥¸ ë¶„ê¸°
        // 1-1. ì˜¤ë¥¸ìª½ë²„íŠ¼ í´ë¦­ì‹œ ////////////////
        if (seq) {
            //  console.log("ì˜¤ë¥¸!");
            // (1) ì˜¤ë¥¸ìª½ ë²„íŠ¼ í´ë¦­ì‹œ ë‹¤ìŒ ìŠ¬ë¼ì´ë“œê°€
            //     ë‚˜íƒ€ë‚˜ë„ë¡ ìŠ¬ë¼ì´ë“œ ë°•ìŠ¤ì˜ leftê°’ì„
            //     -100%ë¡œ ë³€ê²½ì‹œí‚¨ë‹¤.
            slide.style.left = "-100%";
            slide.style.transition = "left .4s ease-in-out";

            // (2) ìŠ¬ë¼ì´ë“œ ì´ë™í›„!!! (0.4ì´ˆí›„)
            setTimeout(() => {
                // (2-1) ë°”ê¹¥ì— ë‚˜ê°€ìˆëŠ” ì²«ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ
                //       lië¥¼ ì˜ë¼ì„œ ë§¨ë’¤ë¡œ ë³´ë‚¸ë‹¤!
                slide.appendChild(clist[0]);
                // (2-2) ë™ì‹œì— leftê°’ì„ 0ìœ¼ë¡œ ë³€ê²½í•œë‹¤!
                slide.style.left = "0";
                // (2-3) íŠ¸ëœì§€ì…˜ ì—†ì• ê¸°!
                slide.style.transition = "none";
            }, 400); //// íƒ€ì„ì•„ì›ƒ //////
        } //////////// if : ì˜¤ë¥¸ìª½í´ë¦­ì‹œ //////

        // 1-2. ì™¼ìª½ë²„íŠ¼ í´ë¦­ì‹œ //////////////
        else {
            //  console.log("ì™¼ìª½!");

            // (1) ì™¼ìª½ë²„íŠ¼ í´ë¦­ì‹œ ì´ì „ ìŠ¬ë¼ì´ë“œê°€
            // ë‚˜íƒ€ë‚˜ë„ë¡ í•˜ê¸°ìœ„í•´ ìš°ì„  ë§¨ë’¤ lië¥¼
            // ë§¨ì•ìœ¼ë¡œ ì´ë™í•œë‹¤.
            // slide.insertBefore(ë„£ì„ë†ˆ,ë„£ì„ë†ˆì „ë†ˆ)
            // slide.insertBefore(ë§¨ëli,ë§¨ì•li)
            slide.insertBefore(clist[clist.length - 1], clist[0]);

            // (2) ë™ì‹œì— leftê°’ì„ -100%ë¡œ ë³€ê²½í•œë‹¤.
            slide.style.left = "-100%";
            // ì´ë•Œ íŠ¸ëœì§€ì…˜ì„ ì—†ì•¤ë‹¤(í•œë²ˆì‹¤í–‰í›„ ë¶€í„° ìƒê¸°ë¯€ë¡œ!)
            slide.style.transition = "none";

            // (3) ê·¸ í›„ leftê°’ì„ 0ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜í•˜ì—¬
            // ìŠ¬ë¼ì´ë“œê°€ ì™¼ìª½ì—ì„œ ë“¤ì–´ì˜¨ë‹¤.
            // ë™ì¼ ì†ì„±ì¸ leftê°€ ê°™ì€ ì½”ë”©ì²˜ë¦¬ ê³µê°„ì— ë™ì‹œì—
            // ìˆìœ¼ë¯€ë¡œ ì´ê²ƒì„ ë¶„ë¦¬í•´ì•¼ íš¨ê³¼ê°€ ìˆë‹¤!
            // setTimeoutì„ ì‚¬ìš©í•œë‹¤!
            setTimeout(() => {
                slide.style.left = "0";
                slide.style.transition = "left .4s ease-in-out";
            }, 0); ////// íƒ€ì„ì•„ì›ƒ /////////
        } //////////// else : ì™¼ìª½í´ë¦­ì‹œ //////

        // 2. í˜„ì¬ ìŠ¬ë¼ì´ë“œ ìˆœë²ˆê³¼ ê°™ì€ ë¸”ë¦¿í‘œì‹œí•˜ê¸°
        // ëŒ€ìƒ: .indic li -> indicë³€ìˆ˜
        // 2-1. í˜„ì¬ ë°°ë„ˆë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸í•˜ê¸°
        clist = slide.querySelectorAll("li");
        // ì˜¤ë¥¸ìª½í´ë¦­ì‹œ(seq===1) ë‘ë²ˆì§¸ìŠ¬ë¼ì´ë“œ[1]
        // ì™¼ìª½í´ë¦­ì‹œ(seq===0) ì²«ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ[0]
        // seqìˆœë²ˆê³¼ ì½ì–´ì˜¬ ìŠ¬ë¼ì´ë“œ ìˆœë²ˆì´ ì¼ì¹˜í•œë‹¤!

        // 2-2.ë°©í–¥ë³„ ì½ì–´ì˜¬ ìŠ¬ë¼ì´ë“œ ìˆœë²ˆìœ¼ë¡œ "data-seq"ê°’ ì½ì–´ì˜¤ê¸°
        let cseq = clist[seq].getAttribute("data-seq");
        //  console.log("í˜„ì¬ìˆœë²ˆ:", cseq);

        // 2-3. ë¸”ë¦¿ì´ˆê¸°í™”
        for (let x of indic) x.classList.remove("on");

        // 2-4. ì½ì–´ì˜¨ ìŠ¬ë¼ì´ë“œ ìˆœë²ˆì˜ ë¸”ë¦¿ì— í´ë˜ìŠ¤ "on"ë„£ê¸°
        indic[cseq].classList.add("on");

        // 3. ë¸”ë¦¿í´ë¦­ì‹œ ì´ë™ í˜„ì¬ìˆœë²ˆë³€ìˆ˜(iseq)ì— ìˆœë²ˆì¼ì¹˜í•˜ê¸°!
        iseq = Number(cseq);
    }; ////////// goSlideí•¨ìˆ˜ ///////////

    // 3. ì´ë™ë²„íŠ¼ëŒ€ìƒì— ì´ë²¤íŠ¸ ì„¤ì •í•˜ê¸°
    abtn.forEach((ele, idx) => {
        ele.onclick = () => {
            // 1. ì¸í„°ë°œì§€ìš°ê¸°í•¨ìˆ˜ í˜¸ì¶œ!
            // clearAuto();
            // 2. ìŠ¬ë¼ì´ë“œ í•¨ìˆ˜ í˜¸ì¶œ!
            goSlide(idx);
        }; ///// clickí•¨ìˆ˜ //////
    }); /////// forEach //////////

    ////////////////////////////
    // ìë™ë„˜ê¹€ ì„¤ì •í•˜ê¸° ////////

    // ì¼ì •ì‹œê°„ê°„ê²© ë„˜ì–´ê°€ê¸°
    // -> setInterval(í•¨ìˆ˜,ì‹œê°„)

    // [ì¸í„°ë°œí•¨ìˆ˜ì˜ í•¨ìˆ˜ì „ë‹¬ê°’ ì‚¬ìš©ì˜ˆ
    // (íƒ€ì„ì•„ì›ƒí•¨ìˆ˜ë„ ë™ì¼í•¨)]
    // 1. í•¨ìˆ˜ì— ì „ë‹¬ê°’ì´ ì—†ìœ¼ë©´ í•¨ìˆ˜ëª…ë§Œ ì‚¬ìš©ê°€ëŠ¥
    // setInterval(goSlide,3000);
    // 2. ì „ë‹¬ê°’ì´ ìˆë‹¤ë©´ ìµëª…í•¨ìˆ˜êµ¬ì—­ì— ì½”ë”©
    // setInterval(function(){goSlide(1)},3000);
    // 3. í™”ì‚´í‘œí•¨ìˆ˜ì‚¬ìš©ê°€ëŠ¥
    // setInterval(()=>{goSlide(1)},3000);
    // 4. í™”ì‚´í‘œí•¨ìˆ˜ì—ì„œ ì¤‘ê´„í˜¸ ìƒëµê°€ëŠ¥
    // setInterval(()=>goSlide(1),3000);

    // ì¸í„°ë°œí•¨ìˆ˜ ì§€ìš°ê¸°ìœ„í•œ ë³€ìˆ˜
    let autoI;
    // íƒ€ì„ì•„ì›ƒí•¨ìˆ˜ ì§€ìš°ê¸°ìœ„í•œ ë³€ìˆ˜
    let autoT;

    /************************************ 
        í•¨ìˆ˜ëª…: autoSlide
        ê¸°ëŠ¥: ì¸í„°ë°œí•¨ìˆ˜ë¡œ ìŠ¬ë¼ì´ë“œí•¨ìˆ˜ í˜¸ì¶œ
    ************************************/
    function autoSlide() {
        console.log("ì¸í„°ë°œì‹œì‘!");
        // ì¸í„°ë°œí•¨ìˆ˜ë¡œ ìŠ¬ë¼ì´ë“œí•¨ìˆ˜ í˜¸ì¶œí•˜ê¸°
        autoI = setInterval(() => goSlide(1), 3000);
    } ////////////// autoSlideí•¨ìˆ˜ //////////

    // ìë™ë„˜ê¹€ ìµœì´ˆí˜¸ì¶œ!
    //    autoSlide();

    /************************************ 
        í•¨ìˆ˜ëª…: clearAuto
        ê¸°ëŠ¥: ì¸í„°ë°œí•¨ìˆ˜ë¥¼ ì§€ìš°ê³  ë‹¤ì‹œì…‹íŒ…
   ************************************/
    function clearAuto() {
        console.log("ì¸í„°ë°œë©ˆì¶¤!");
        // 1. ì¸í„°ë°œ ì§€ìš°ê¸°
        clearInterval(autoI);

        // 2. íƒ€ì„ì•„ì›ƒë„ ì§€ìš°ì§€ ì•Šìœ¼ë©´
        // ìŒ“ì—¬ì„œ íƒ€ì„ì•„ì›ƒ ì“°ë‚˜ë¯¸ì‹¤í–‰ì´ ë°œìƒí•œë‹¤!
        clearTimeout(autoT);

        // 3. ì ì‹œí›„ ë‹¤ì‹œ ì‘ë™í•˜ë„ë¡ íƒ€ì„ì•„ì›ƒìœ¼ë¡œ
        // ì¸í„°ë°œí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤!
        // 5ì´ˆí›„(ì¸í„°ë°œì€ 3ì´ˆí›„, í† íƒˆ 8ì´ˆí›„ ì‘ë™ì‹œì‘)
        autoT = setTimeout(autoSlide, 5000);
    } ///////// clearAuto í•¨ìˆ˜ /////////////

    /***************************************** 
        [ ğŸë¸”ë¦¿í´ë¦­ ì´ë™ êµ¬í˜„í•˜ê¸°ğŸ ]
        1. ì˜¤ë¥¸ìª½ì´ë™ì‹œ : í˜„ì¬ë¸”ë¦¿ë³´ë‹¤ ì˜¤ë¥¸ìª½í´ë¦­ì‹œ
            1) ê¸°ë³¸í˜• : ì˜¤ë¥¸ìª½ë²„íŠ¼ í´ë¦­êµ¬í˜„
            2) ìœ í˜•: ë¨¼ì €ì´ë™í›„ ë§¨ì•ìš”ì†Œ ë§¨ë’¤ë¡œ ì´ë™
            3) ì›ë¦¬: ì°¨ì´ìˆ˜ë§Œí¼ %ì´ë™í›„ forë¬¸ìœ¼ë¡œ 
                    ìˆœì„œëŒ€ë¡œ ë§¨ë’¤ì´ë™

        2. ì™¼ìª½ì´ë™ì‹œ : í˜„ì¬ë¸”ë¦¿ë³´ë‹¤ ì™¼ìª½í´ë¦­ì‹œ
            1) ê¸°ë³¸í˜• : ì™¼ìª½ë²„íŠ¼ í´ë¦­êµ¬í˜„
            2) ìœ í˜•: ë¨¼ì € ë§¨ë’¤ìš”ì†Œ ë§¨ì•ìœ¼ë¡œ ì´ë™í›„ ë“¤ì–´ì˜¤ê¸°
            3) ì›ë¦¬: ì°¨ì´ìˆ˜ë§Œí¼ ì•ì— forë¬¸ìœ¼ë¡œ ìŒ“ì€ í›„ ì´ë™í•¨

        3. ë°©í–¥êµ¬ë¶„ì˜ ê¸°ì¤€ : í´ë¦­ëœ ë¸”ë¦¿ìˆœë²ˆ - í˜„ì¬ë¸”ë¦¿ìˆœë²ˆ
            1) ì–‘ìˆ˜ë©´ ì˜¤ë¥¸ìª½ì´ë™
            2) ìŒìˆ˜ë©´ ì™¼ìª½ì´ë™       
        

   *****************************************/

    // ëŒ€ìƒ: .indic li -> indicë³€ìˆ˜
    // ì´ë²¤íŠ¸ : click
    // ìˆœë²ˆë³€ìˆ˜ - ë¸”ë¦¿ìˆœë²ˆ ë¸”ë¦­lií´ë¦­í•¨ìˆ˜ì—ì„œ ê³µìœ í•¨!
    let iseq = 0;

    indic.forEach((ele, idx) => {
        // ele-ìš”ì†Œ, idx-ìˆœë²ˆ
        // í´ë¦­ì´ë²¤íŠ¸ ì„¤ì •í•˜ê¸°
        ele.onclick = () => {
            // 1. í´ë¦­ëœ ìˆœë²ˆ
            let cseq = idx;
            // 2. í˜„ì¬ ìˆœë²ˆ - iseq
            // 3. ìˆœë²ˆì°¨ : í´ë¦­ëœ ìˆœë²ˆ - í˜„ì¬ ìˆœë²ˆ
            let diff = cseq - iseq;
            // ìˆœìˆ˜ê°’ ì°¨ì´ -> ì ˆëŒ€ê°’ : Math.abs()
            let pure = Math.abs(diff);

            console.log("í´ë¦­ëœìˆœë²ˆ:", cseq);
            console.log("í˜„ì¬ìˆœë²ˆ:", iseq);
            console.log("ìˆœë²ˆì°¨:", diff);
            console.log("ìˆœìˆ˜ì°¨:", pure);

            // 4.ë°©í–¥ë³„ ìŠ¬ë¼ì´ë“œì´ë™í•˜ê¸°
            // 4-1. ì–‘ìˆ˜ë©´ ì˜¤ë¥¸ìª½ //////
            if (diff > 0) {
                //  console.log("ì˜¤ë¥¸!");
                // (1) ì˜¤ë¥¸ìª½ ë²„íŠ¼ í´ë¦­ì‹œ ë‹¤ìŒ ìŠ¬ë¼ì´ë“œê°€
                //     ë‚˜íƒ€ë‚˜ë„ë¡ ìŠ¬ë¼ì´ë“œ ë°•ìŠ¤ì˜ leftê°’ì„
                //     (-100% * ìˆœìˆ˜ì°¨) ë¡œ ë³€ê²½ì‹œí‚¨ë‹¤.
                slide.style.left = -100 * pure + "%";
                slide.style.transition = "left .4s ease-in-out";

                // (2) ìŠ¬ë¼ì´ë“œ ì´ë™í›„!!! (0.4ì´ˆí›„)
                setTimeout(() => {
                    // forë¬¸ìœ¼ë¡œ ìë¥¼ìˆ˜(ìˆœìˆ˜ê°’)ë§Œí¼ ìˆœì„œëŒ€ë¡œì²˜ë¦¬!

                    // ê³„ì‚°ë˜ëŠ” ì°¨ì´ìˆ˜(1ì”©ê°ì†Œí•˜ì—¬ leftê°’ì— ê³„ì‚°ì‹œí‚´!)
                    let temp = pure;

                    for (let i = 0; i < pure; i++) {
                        // temp 1ì”©ê°ì†Œí•˜ê¸°!
                        temp--;

                        // (2-1) ë°”ê¹¥ì— ë‚˜ê°€ìˆëŠ” ì²«ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ
                        //       lië¥¼ ì˜ë¼ì„œ ë§¨ë’¤ë¡œ ë³´ë‚¸ë‹¤!
                        // ìŠ¬ë¼ì´ë“œliê°€ ì˜ë¼ë‚´ë©´ ë§¤ë²ˆë³€ê²½ë˜ë¯€ë¡œ
                        // ìƒˆë¡œì½ì–´ì„œ ë§¨ë’¤ë¡œ ì´ë™í•œë‹¤!
                        slide.appendChild(slide.querySelectorAll("li")[0]);
                        // (2-2) ë™ì‹œì— leftê°’ì„ 0ìœ¼ë¡œ ë³€ê²½í•œë‹¤!
                        slide.style.left = -100 * temp + "%";
                        // (2-3) íŠ¸ëœì§€ì…˜ ì—†ì• ê¸°!
                        slide.style.transition = "none";
                    } /////////// for /////////////////////
                }, 400); //// íƒ€ì„ì•„ì›ƒ //////
            } ////////// if ///////////
            // 4-2. ìŒìˆ˜ë©´ ì™¼ìª½ /////////
            else if (diff < 0) {
                //  console.log("ì™¼ìª½!");

                
                // (1) ì™¼ìª½ë²„íŠ¼ í´ë¦­ì‹œ ì´ì „ ìŠ¬ë¼ì´ë“œê°€
                // ë‚˜íƒ€ë‚˜ë„ë¡ í•˜ê¸°ìœ„í•´ ìš°ì„  ë§¨ë’¤ lië¥¼
                // ë§¨ì•ìœ¼ë¡œ ì´ë™í•œë‹¤. -> ê°œìˆ˜ë§Œí¼ ì²˜ë¦¬í•œë‹¤!(pure ìˆœìˆ˜ì°¨ì´ê°’)
                // slide.insertBefore(ë„£ì„ë†ˆ,ë„£ì„ë†ˆì „ë†ˆ)
                // slide.insertBefore(ë§¨ëli,ë§¨ì•li)


                for(let i = 0; i < pure; i++){

                    // ì´ë™í•  ë¦¬ìŠ¤íŠ¸
                    let clist = slide.querySelectorAll("li");

                    slide.insertBefore(clist[clist.length - 1], clist[0]);
    
                    // (2) ë™ì‹œì— leftê°’ì„ -100% ë‹¨ìœ„ë¡œ ë³€ê²½í•œë‹¤.
                    // iê°’ì´ 0ë¶€í„° ë°˜ë³µíšŒìˆ˜ë§Œí¼ ì¦ê°€í•˜ë¯€ë¡œ ì´ê²ƒì„ ì´ìš©í•¨!
                    slide.style.left = ((i+1)*-100) + "%";
                    // ì´ë•Œ íŠ¸ëœì§€ì…˜ì„ ì—†ì•¤ë‹¤(í•œë²ˆì‹¤í–‰í›„ ë¶€í„° ìƒê¸°ë¯€ë¡œ!)
                    slide.style.transition = "none";
                } ////////// for /////////////////////

                // (3) ê·¸ í›„ leftê°’ì„ 0ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜í•˜ì—¬
                // ìŠ¬ë¼ì´ë“œê°€ ì™¼ìª½ì—ì„œ ë“¤ì–´ì˜¨ë‹¤.
                // ë™ì¼ ì†ì„±ì¸ leftê°€ ê°™ì€ ì½”ë”©ì²˜ë¦¬ ê³µê°„ì— ë™ì‹œì—
                // ìˆìœ¼ë¯€ë¡œ ì´ê²ƒì„ ë¶„ë¦¬í•´ì•¼ íš¨ê³¼ê°€ ìˆë‹¤!
                // setTimeoutì„ ì‚¬ìš©í•œë‹¤!
                setTimeout(() => {
                    slide.style.left = "0";
                    slide.style.transition = "left .4s ease-in-out";
                }, 0); ////// íƒ€ì„ì•„ì›ƒ /////////
            } ////////// else if /////////
            // 4-3. 0ì´ë©´ ë‚˜ê°€! //////////
            else {
                return;
            } ///////// else /////////////

            // 5. í˜„ì¬ë¸”ë¦¿ ì´ˆê¸°í™”
            indic[iseq].classList.remove("on");

            // 6. í´ë¦­ëœ ìˆœë²ˆìœ¼ë¡œ í˜„ì¬ìˆœë²ˆ ë³€ê²½
            iseq = cseq;

            // 7. í´ë¦­ëœ ë¸”ë¦¿ì— onë„£ê¸°
            indic[iseq].classList.add("on");
        }; ////////// click ////////////
    }); //////// forEach ////////////////////
} //////////////// loadFn í•¨ìˆ˜ ///////////////
/////////////////////////////////////////////