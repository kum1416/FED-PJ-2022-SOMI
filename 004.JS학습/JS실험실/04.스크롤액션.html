<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JSì‹¤í—˜ì‹¤ : 04.ìŠ¤í¬ë¡¤ì•¡ì…˜</title>
        <script>
            ////// ë¡œë“œêµ¬ì—­ //////////
            window.addEventListener("DOMContentLoaded", () => {

                // ìƒˆë¡œê³ ì¹¨ì‹œ ë§¨ìœ„ë¡œ ë³´ë‚´ê¸° ///////
                // scrollTo(ê°€ë¡œ,ì„¸ë¡œ) -> ìŠ¤í¬ë¡¤ìœ„ì¹˜ì´ë™ ë‚´ì¥í•¨ìˆ˜
                // ë¸Œë¼ìš°ì €ê°€ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ìºì‹±ì„ ì ìš©í•œ í›„ ìœ„ë¡œ ì´ë™
                setTimeout(() => {
                    window.scrollTo(0,0);
                }, 100); // 0.1ì´ˆì •ë„ëŠ” ì¤˜ì•¼íš¨ê³¼ìˆìŒ!



                // ë“±ì¥ì•¡ì…˜ ëŒ€ìƒ: .setit
                const setit = document.querySelectorAll(".setit");
                // console.log(setit);

                // í™”ë©´ë†’ì´ê°’ì˜ 2/3êµ¬í•˜ê¸°
                const hv = window.innerHeight/3*2;
                // console.log("2/3ë†’ì´:",hv);

                // ìœˆë„ìš° ë†’ì´ê°’
                const winH = window.innerHeight;

                // ì „ì²´ë¬¸ì„œ ë†’ì´ê°’
                const docH = document.body.clientHeight; /* **ğŸ“¢document.bodyë°”ë””ìš”ì†Œë¥¼ ì§ì ‘ ê°€ë¦¬í‚´ */
                console.log("ë¬¸ì„œì „ì²´ë†’ì´:",docH);

                // ìŠ¤í¬ë¡¤í•œê³„ê°’
                const scLimit = docH - winH;
                console.log("ìŠ¤í¬ë¡¤í•œê³„ê°’:",scLimit);
                // ìŠ¤í¬ë¡¤í•œê³„ê°’ì€ ì „ì²´ë¬¸ì„œê¸¸ì´ - ìœˆë„ìš°ë†’ì´
                // ë‹¨, bodyì— ê¸°ë³¸ë§ˆì§„ 8pxì„ ì´ˆê¸°í™”í•´ì•¼ ì •í™•íˆ ì¼ì¹˜í•¨!

                

                // ë“±ì¥ì•¡ì…˜ ëŒ€ìƒ ìœ„ì¹˜ê°’ ë¦¬í„´í•¨ìˆ˜/////
                const retVal = 
                ele => ele.getBoundingClientRect().top;

                // const retVal = 
                // ele => {return ele.getBoundingClientRect().top;}

                // [ ë³´ì´ëŠ”í™”ë©´ì„ ê¸°ì¤€í•œ ìœ„ì¹˜ê°’ë¦¬í„´ : 
                // getBoundingClientRect() ]
                // topì†ì„±ê°’ì€ Yì¶•ìœ„ì¹˜ê°’ì„ ë‚˜íƒ€ëƒ„
                // ë³´ì´ëŠ” í™”ë©´ ìƒë‹¨ì— ë‹¿ì„ ê²½ìš° 0
                // í†µê³¼í•˜ì—¬ ìœ„ë¡œ ì˜¬ë¼ê°€ë©´ ë§ˆì´ë„ˆìŠ¤ê°’ì´ë‹¤!
                // [ ë©”ì„œë“œëª… êµ¬ì„± ]
                // get ê°’ì„ ê°€ì ¸ì™€
                // Bounding í•œê³„ì—ì„œ
                // ClientRect ì‚¬ìš©ìë¸Œë¼ìš°ì € í™”ë©´ìœ¼ë¡œ ë¶€í„°

                ////////////////////////////////
                // í´ë˜ìŠ¤ ë„£ê¸° í•¨ìˆ˜ ë§Œë“¤ê¸° ///////
                ////////////////////////////////
                const showIt = x => { // x - ë“±ì¥ìš”ì†Œ
                    // ëŒ€ìƒìš”ì†Œì˜ í˜„ì¬ìŠ¤í¬ë¡¤ ìœ„ì¹˜
                    let xval = retVal(x);

                    // êµ¬ê°„ì ìš©ì—¬ë¶€ ê²€ì‚¬í•˜ê¸°
                    // 0ë³´ë‹¤ í¬ê³  í™”ë©´ì˜ 2/3ë³´ë‹¤ ì‘ì€ êµ¬ê°„!
                    if(xval < hv && xval > 0){
                        // console.log("ì‘ë™!~~~~");
                        // í•´ë‹¹ìš”ì†Œì— í´ë˜ìŠ¤ ë„£ê¸°!
                        x.classList.add("on");
                    }
                }; //////////// showIt //////////

                // ìŠ¤í¬ë¡¤ì‹œ ì´ë™í•  íƒ€ì´í‹€ ëŒ€ìƒ //////
                // .tit
                const tit = document.querySelector(".tit");
                // íŠ¸ëœì§€ì…˜ì„¤ì •
                tit.style.transition = ".8s ease-in-out";

                // ë–¨ì–´ì§€ëŠ” ì—¬ì ëŒ€ìƒì„ ì • //////////////////////
                const woman = document.querySelector("#woman");

                /////////////////////////////////////////////
                // ìŠ¤í¬ë¡¤ ì´ë™ì‹œ ìœˆë„ìš°ì— ì„¸ë¡œìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°’ ì°ê¸°
                // ëŒ€ìƒ: window
                // ì´ë²¤íŠ¸: scroll
                window.addEventListener("scroll",()=>{

                    // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ í™•ì¸!
                    // console.log("ìŠ¤í¬ë¡¤ì¤‘~~!");

                    // ìŠ¤í¬ë¡¤ë“±ì¥ ìš”ì†Œ ê°œìˆ˜ë§Œí¼ forë¬¸ìœ¼ë¡œ ëŒë¦¬ê¸°
                    for(let x of setit) showIt(x);
                    // ìˆœì„œ:
                    // 1. ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ì‹œ setitì— ë‹´ê¸´ ìš”ì†Œë¥¼ ìˆ˜ì§‘
                    // 2. ìš”ì†Œë§Œí¼ xì— í•˜ë‚˜ì”© ìˆœì„œëŒ€ë¡œ ë‹´ëŠ”ë‹¤
                    // 3. showIt(x) í˜¸ì¶œì‹œ x, ì¦‰ ìš”ì†Œìì‹ ì„ ë³´ë‚¸ë‹¤!
                    // 4. showIt() í•¨ìˆ˜ëŠ” ê·¸ xì˜ ìœ„ì¹˜ê°’ì„ ì¡°ì‚¬í•´ì„œ
                    // ifë¬¸ êµ¬ê°„ì— í•´ë‹¹í•˜ëŠ”ì§€ ê²€ì‚¬í›„ í•´ë‹¹ìš”ì†Œì—
                    // í´ë˜ìŠ¤ "on"ì„ ë„£ì–´ì¤€ë‹¤!




                    // ìŠ¤í¬ë¡¤ì‹œ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°’  ì°ê¸°
                    // => window.scrollY
                    let scTop = window.scrollY;

                    // ë‹¤ë¥¸ë°©ë²•ìœ¼ë¡œ ìŠ¤í¬ë¡¤ìœ„ì¹˜ê°’ êµ¬í•˜ê¸°
                    // scTop = document.scrollingElement.scrollTop;
                    // scTop = document.documentElement.scrollTop;
                    // scTop = document.querySelector('html').scrollTop;

                    // console.log(scTop);

                    /* â˜…[[ í˜„ì¬ ìŠ¤í¬ë¡¤ë°” ìœ„ì¹˜ê°’ ê°€ì ¸ì˜¤ê¸° ]]â˜…
                    1. window.scrollY (IE6~11ì§€ì›ì•ˆí•¨)
                    2. document.scrollingElement.scrollTop
                    3. document.documentElement.scrollTop
                    4. document.querySelector('html').scrollTop */

                    /********************************************* 
                        ìŠ¤í¬ë¡¤ìœ„ì¹˜ì— ë”°ë¥¸ íƒ€ì´í‹€ ìœ„ì¹˜ì´ë™ ì• ë‹ˆí•˜ê¸°!
                    *********************************************/

                    // 1. ìŠ¤í¬ë¡¤ë°” ìœ„ì¹˜ 0ì´ìƒ 300ë¯¸ë§Œì¼ë•Œ ì›ìœ„ì¹˜
                    if(scTop < 300) tit.style.top = "0";
                    // 2. ìŠ¤í¬ë¡¤ë°” ìœ„ì¹˜ 300ì´ìƒ 500ë¯¸ë§Œì¼ë•Œ ì²«ë²ˆì§¸ ìœ„ì¹˜ë³€ê²½
                    if(scTop >= 300 && scTop < 500) tit.style.top = "45vh";
                    
                    // retVal() í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ í•´ë‹¹ìš”ì†Œì˜ ìœ„ì¹˜ë¥¼ êµ¬í•¨!
                    // ì²«ë²ˆì§¸ í¬ìŠ¤í„°ìš”ì†Œ ìœ„ì¹˜
                    let obj1 = retVal(setit[0]);
                    // ë‘ë²ˆì§¸ í¬ìŠ¤í„°ìš”ì†Œ ìœ„ì¹˜
                    let obj2 = retVal(setit[1]);
                    // ì„¸ë²ˆì§¸ í¬ìŠ¤í„°ìš”ì†Œ ìœ„ì¹˜
                    let obj3 = retVal(setit[2]);
                    // console.log(obj1,"/",obj2,"/",obj3);

                    // 1. ì²«ë²ˆì§¸/ì„¸ë²ˆì§¸ í¬ìŠ¤í„°êµ¬ê°„ì¼ë•Œ
                    if((obj1 < winH/2 && obj1 > 0)||
                    (obj3 < winH/2 && obj3 > 0)){
                        tit.style.left = "5%";
                        tit.style.transform = "translateX(0)";
                    }
                    // 2. ë‘ë²ˆì§¸ í¬ìŠ¤í„°êµ¬ê°„ì¼ë•Œ
                    else if(obj2 < winH/2 && obj2 > 0){
                        tit.style.left = "45%";
                        tit.style.transform = "translateX(0)";
                    }
                    else{ // ì›ë˜ê°’ìœ¼ë¡œ ëŒì•„ê°!
                        tit.style.left = "50%";
                        tit.style.transform = "translateX(-50%)";
                    }

                    /************************************************ 
                        ë–¨ì–´ì§€ëŠ” ì—¬ì ìŠ¤í¬ë¡¤ ì‹œì‘ë¶€í„° ëê¹Œì§€ ì• ë‹ˆ
                    ************************************************/
                   // êµ¬í˜„ë‚´ìš©: ì—¬ìì´ë¯¸ì§€ê°€ ë§¨ìœ„ì—ì„œë¶€í„° ë³´ì´ëŠ” í™”ë©´ì—ì„œ
                   // ìŠ¤í¬ë¡¤ ë§¨ ì•„ë˜ê¹Œì§€ ë™ì¼í•œ ë¹„ìœ¨ë¡œ ë–¨ì–´ì§€ê²Œ í•œë‹¤!

                   // ë¹„ë¡€ì‹ìœ¼ë¡œ ë¹„ìœ¨ì„ ê³„ì‚°í•œë‹¤!
                   // í˜ì´ì§€ì „ì²´ê¸¸ì´ : ìœˆë„ìš°ë†’ì´ = ìŠ¤í¬ë¡¤ì´ë™ê°’ : ì´ë¯¸ì§€ì´ë™ê°’
                   // ì´ë¯¸ì§€ì´ë™ê°’ = ìœˆë„ìš°ë†’ì´ * ìŠ¤í¬ë¡¤ì´ë™ê°’ / í˜ì´ì§€ì „ì²´ê¸¸ì´

                   // x = winH * scTop / docH
                   // x = winH * scTop / scLimit
                   // docH(í˜ì´ì§€ì „ì²´ê¸¸ì´) ëŒ€ì‹  scLimit(ìŠ¤í¬ë¡¤í•œê³„ê°’) ì‚¬ìš©!

                   // -> í˜ì´ì§€ì „ì²´ê¸¸ì´ëŠ” ì‚¬ì‹¤ ìŠ¤í¬ë¡¤ í•œê³„ê°’ìœ¼ë¡œ í•´ì•¼í•¨!

                    // ğŸ¤¦â€â™€ë–¨ì–´ì§€ëŠ” ì—¬ì topìœ„ì¹˜ê°’ ê³„ì‚°í•˜ê¸°
                    let wtop = winH * scTop / scLimit;
                    // í™•ì¸
                    console.log("wìœ„ì¹˜: ", wtop);

                    // ğŸ¤¦ë–¨ì–´ì§€ëŠ” ì—¬ìì˜ topê°’ì— ì ìš©í•˜ê¸°
                    woman.style.top = wtop + "px";

                    // ğŸ¤¦â€â™€ë§¨ ìœ„ì¼ ë•Œ ìœ„ìª½ìœ¼ë¡œ ìˆ¨ê¸°ê¸°
                    if(scTop === 0) woman.style.top = "-20%";
                   











                    // í˜„ì¬ ì²«ë²ˆì§¸ ë°•ìŠ¤ ìœ„ì¹˜ê°’
                    // let bxpos = retVal(setit[0]);
                    // let bxpos2 = retVal(setit[1]);
                    // let bxpos3 = retVal(setit[2]);
                    // console.log(bxpos);

                   

                    // if(bxpos < hv && bxpos > hv-10){
                    //     // aaa=0;
                    //     console.log("ì‘ë™!~~~~");
                    //     setit[0].classList.add("on");
                    // }
                    // if(bxpos2 < hv && bxpos2 > hv-10){
                    //     // aaa=0;
                    //     console.log("ì‘ë™!~~~~");
                    //     setit[1].classList.add("on");
                    // }
                    // if(bxpos3 < hv && bxpos3 > hv-10){
                    //     // aaa=0;
                    //     console.log("ì‘ë™!~~~~");
                    //     setit[2].classList.add("on");
                    // }

                    
                }); /////////// scroll ////////////////



















                // êµ¬í˜„ë‚´ìš©: ê¸€ìë¥¼ ë°•ìŠ¤ì— ë„£ê³  í•˜ë‚˜ì”© ë‚ ì•„ì˜¤ë©´ì„œ ë“±ì¥
                // 1.ëŒ€ìƒì„ ì •: .stage
                const stage = document.querySelector(".stage");
                // console.log(stage);

                // 2.ë°ì´í„° ë³€ìˆ˜í• ë‹¹
                const mytxt = "ì‹ ì¹´ì´ ë§ˆì½”í† ";

                // 3.ë°ì´í„°ê¸€ì í•œê¸€ìì”© íƒœê·¸ì‹¸ê¸°
                // for ofë¬¸ì‚¬ìš©!

                let hcode = ""; // ì½”ë“œì €ì¥ë³€ìˆ˜
                let idx = 0; // ìˆœë²ˆë³€ìˆ˜

                for (let x of mytxt) {
                    // ë„ì–´ì“°ê¸°ì¼ ê²½ìš° íŠ¹ìˆ˜ë¬¸ìì²˜ë¦¬!
                    if (x === " ") x = "&nbsp;&nbsp;&nbsp";
                    // ì½”ë“œë§Œë“¤ì–´ ë³€ìˆ˜ì— ëŒ€ì…ì—°ì‚°ìë¡œ ë„£ê¸°!
                    hcode += `<span style="transition-delay: ${idx * 0.1}s">
                    ${x}</span>`;

                    // ìˆœë²ˆë³€ìˆ˜ì¦ê°€
                    idx++;
                } //////////// for of ////////////

                // console.log(hcode);

                // 4. ìŠ¤í…Œì´ì§€ ë°•ìŠ¤ì— ê¸€ìë„£ê¸°
                stage.innerHTML = hcode;

                // 5. ì¼ì •ì‹œê°„í›„ ìŠ¤í…Œì´ì§€ë°•ìŠ¤ì— í´ë˜ìŠ¤ "on"ì£¼ê³  ì• ë‹ˆì‘ë™!
                setTimeout(() => {
                    stage.classList.add("on");                    
                }, 2000);


            }); ////////////// ë¡œë“œêµ¬ì—­ /////////////////////
        </script>
        <style>
            /* ì›¹í°íŠ¸ */
            @import url("https://fonts.googleapis.com/css2?family=Nanum+Brush+Script&display=swap");
            body {
                height: 350vh;
                background-image: linear-gradient(to bottom, lightcoral, lightgreen, lightblue);
            }
            /* íƒ€ì´í‹€ */
            .tit {
                position: fixed;
                top: 0;
                /* width: 100%; */
                left: 50%;
                transform: translateX(-50%);
                /* ì¤‘ì•™ì´ë™í•˜ê¸° */
                font-family: "Nanum Brush Script", cursive;
                margin: 0;
                padding: 3vh;
                text-align: center;
                font-size: 10vh;
                z-index: 1;
                text-shadow: 0 0 20px #ff0;
            }
            /* ë–¨ì–´ì§€ëŠ” ì—¬ì */
            #woman{
                position: fixed;
                top: -20%;
                left: 50%;
                transform: translateX(-50%);
                width: 10vw;
            }
            /* ìŠ¤í¬ë¡¤ì•¡ì…˜ë°•ìŠ¤ */
            .scact {
                position: absolute;
                top: 80vh;
                right: 5vw;
                width: 30vw;
                height: 49vw;
                border: 1px solid #000;
                background-color: lightblue;
                background-repeat: no-repeat;
                background-size: cover;
                background-position: center;
            }

            /* ìŠ¤í¬ë¡¤ë“±ì¥ë°•ìŠ¤1 */
            .sa1 {
                background-image: url(https://file.mk.co.kr/meet/neds/2016/12/image_readtop_2016_867027_14817626712716670.jpg);
            }

            /* ìŠ¤í¬ë¡¤ë“±ì¥ë°•ìŠ¤2 */
            .sa2 {
                top: 150vh;
                background-image: url(https://upload.wikimedia.org/wikipedia/ko/thumb/f/f5/%EB%82%A0%EC%94%A8%EC%9D%98_%EC%95%84%EC%9D%B4.tif/lossless-page1-1200px-%EB%82%A0%EC%94%A8%EC%9D%98_%EC%95%84%EC%9D%B4.tif.png);
                right: auto;
                left: 5vw;
            }

            /* ìŠ¤í¬ë¡¤ë“±ì¥ë°•ìŠ¤3 */
            .sa3 {
                top: 220vh;
                background-image: url(http://www.ccoart.com/news/photo/202301/3855_8223_1250.jpg);
            }

            /* ìŠ¤í¬ë¡¤ë“±ì¥ ì´ˆê¸°í™” í´ë˜ìŠ¤ */
            .setit {
                transform: translateY(20%);
                opacity: 0;
                transition: all 1.2s ease-in-out;
            }
            /* ìŠ¤í¬ë¡¤ë“±ì¥ í´ë˜ìŠ¤ .setit + .on */
            .setit.on {
                transform: translateY(0);
                opacity: 1;
            }


            /* ê¸€ìê°œë³„ë°•ìŠ¤ ì…‹íŒ… */
            .stage span {
                /* íŠ¸ëœìŠ¤í¼ ì ìš©ìœ„í•´ */
                display: inline-block;
                /* í˜„ì¬ìœ„ì¹˜ë¡œ ë¶€í„° ì´ë™ */
                transform: translate(500%, -300%);
                /* íˆ¬ëª…ë„ 0 */
                opacity: 0;
                /* íŠ¸ëœì§€ì…˜: ì†ì‹œì´ì§€ */
                transition: 0.3s ease-in;
            }
            /* 
        -> ê°œë³„ ì§€ì—°ì‹œê°„ì„ JSì—ì„œ ì…‹ì—…í•œë‹¤!
        .stage span:nth-child(3){   
            transition-delay: 2
 } */
            /* ìŠ¤í…Œì´ì§€ë¡œ ë“¤ì–´ì˜¤ê¸° */
            .stage.on span {
                transform: translate(0, 0);
                opacity: 1;
            }
        </style>
    </head>
    <body>
        <!-- íƒ€ì´í‹€ -->
        <h1 class="tit stage"></h1>
        <!-- í¬ìŠ¤í„°ë°•ìŠ¤ë“¤ -->
        <div class="scact sa1 setit"></div>
        <div class="scact sa2 setit"></div>
        <div class="scact sa3 setit"></div>
        <!-- ë–¨ì–´ì§€ëŠ” ì—¬ì -->
        <img src="./images/woman.png" alt="ë–¨ë…€" id="woman">
    </body>
</html>