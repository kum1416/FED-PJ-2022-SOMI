<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>07.ë“œë˜ê·¸ê¸°ë³¸</title>
    <style>
        body{
            height: 100vh;
            background: url(http://www.kukinews.com/data/kuk/image/2022/08/29/kuk202208290038.jpg) center top/auto 100%;
        }
        .tg{
            position: relative;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background-color: #f00;
            background: url(https://img3.daumcdn.net/thumb/R658x0.q70/?fname=https://t1.daumcdn.net/news/202107/08/JTBC/20210708153002482ktbd.jpg) no-repeat center top/cover;
        }
    </style>
    <script>
        // ë¡œë“œêµ¬ì—­ ////////////////////////////
        window.addEventListener("DOMContentLoaded",()=>{
            // ğŸëŒ€ìƒì„ ì •
            const tg = document.querySelector(".tg");
            // console.log(tg);

            /******************************************* 
                [ ë“œë˜ê·¸ ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•œ ì´ë²¤íŠ¸ ]
                1. ë”¸ -> ë§ˆìš°ìŠ¤ í¬ì¸í„° ëˆ„ë¦„ -> mousedown

                2. ê° -> ë§ˆìš°ìŠ¤ í¬ì¸í„° ì˜¬ë¼ì˜´ -> mouseup

                3. ì§ˆì§ˆ -> ë§ˆìš°ìŠ¤ ì›€ì§ì¼ë•Œ -> mousemove
                -> ë“œë˜ê·¸ ìƒíƒœëŠ” "ë”¸"ìƒíƒœì—ì„œ "ì§ˆì§ˆ"í•˜ëŠ”ê²ƒ!

                mousedown í• ë•Œ ë“œë˜ê·¸ ìƒíƒœë³€ìˆ˜ê°’ì„ 1ë¡œ ë³€ê²½
                mouseup í• ë•Œ ë“œë˜ê·¸ ìƒíƒœë³€ìˆ˜ê°’ì„ 0 ìœ¼ë¡œ ë³€ê²½

            *******************************************/

            // ë³€ìˆ˜ë§Œë“¤ê¸° (ë“œë˜ê·¸ìƒíƒœ ë³€ìˆ˜)
            // ğŸ(1) ë“œë˜ê·¸ ìƒíƒœë³€ìˆ˜
            // ğŸ“¢ì²˜ìŒì€ ë“œë˜ê·¸í•˜ëŠ”ì¤‘ì´ ì•„ë‹ˆë‹ˆê¹Œ false-ë“œë˜ê·¸ì•„ë‹˜
            let drag = false; // true-ë“œë˜ê·¸ì¤‘, false-ë“œë˜ê·¸ì•„ë‹˜
            // ğŸ“(2) ì²«ë²ˆì§¸ ìœ„ì¹˜ í¬ì¸íŠ¸ first x, first y
            let fx,fy;
            // ğŸ“(3) ë§ˆì§€ë§‰ ìœ„ì¹˜í¬ì¸íŠ¸ last x, last y
            let lx,ly;
            // ğŸ“(4) ì›€ì§ì¼ë•Œ ìœ„ì¹˜í¬ì¸íŠ¸ move x, move y
            let mvx, mvy;
            // ğŸ“(5) ìœ„ì¹˜ì´ë™ ì°¨ì´ ê²°ê³¼ë³€ìˆ˜ result x, result y
            let rx,ry;

            // ğŸí•¨ìˆ˜ ë§Œë“¤ê¸°(í• ë‹¹í˜• ìµëª…í•¨ìˆ˜)
            // (1) ë“œë˜ê·¸ìƒíƒœ true ğŸ“¢ë“œë˜ê·¸ ìƒíƒœì—ì„œ íŠ¸ë£¨ë¥¼ í• ë‹¹í•´ì£¼ëŠ” ì—­í• 
            const dTrue = () => drag =  true;

            // (2) ë“œë˜ê·¸ìƒíƒœ false
            const dFalse = () => drag = false;

            // (3) ë“œë˜ê·¸ ì›€ì§ì¼ë•Œ ì‘ë™í•¨ìˆ˜
            const dMove = () => {
                // console.log("ë“œë˜ê·¸ìƒíƒœ:",drag);

                // ë“œë˜ê·¸ ìƒíƒœì¼ë•Œë§Œ ì‹¤í–‰
                if(drag){
                    // ë“œë˜ê·¸ ìƒíƒœì—ì„œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°’ : mvx,mvy
                    mvx = event.pageX;
                    mvy = event.pageY;

                    console.log(`fx:${fx}/fy:${fy}`);
                    console.log(`mvx:${mvx}/mvy:${mvy}`);
                } //////// if : ë“œë˜ê·¸ì¼ë•Œ //////

            }; ////////////// dMove ////////////////

            // ğŸ“(4) ì²«ë²ˆì§¸ ìœ„ì¹˜í¬ì¸íŠ¸ ì…‹íŒ…í•¨ìˆ˜
            const firstPoint = () => {fx=event.pageX; fy=event.pageY};


            // ğŸì´ë²¤íŠ¸ ë“±ë¡í•˜ê¸° /////
            // (1) ë§ˆìš°ìŠ¤ ë‚´ë ¤ê°ˆë•Œ : ë“œë˜ê·¸ true + ì²«ë²ˆì§¸ ìœ„ì¹˜ê°’ğŸ“
            tg.addEventListener("mousedown",()=>{dTrue();firstPoint();}); // í•¨ìˆ˜í˜¸ì¶œ 2ê°œ
            // (2) ë§ˆìš°ìŠ¤ ì˜¬ë¼ì˜¬ë•Œ
            tg.addEventListener("mouseup",dFalse);
            // (3) ë§ˆìš°ìŠ¤ ì›€ì§ì¼ë•Œ
            tg.addEventListener("mousemove",dMove);
            // (4) ë§ˆìš°ìŠ¤ ë²—ì–´ë‚ ë•Œ
            tg.addEventListener("mouseleave",dFalse);




        }); //////////// ë¡œë“œêµ¬ì—­ ////////
    </script>
</head>
<body>
    <div class="tg"></div>
    
</body>
</html>