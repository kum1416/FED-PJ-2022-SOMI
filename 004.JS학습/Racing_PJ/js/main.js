// Racing PJ ë©”ì¸ JS - main.js

/// ìš”ì†Œì„ íƒí•¨ìˆ˜ /////
const qs = x => document.querySelector(x);
const qsa = x => document.querySelectorAll(x);
/// ë©”ì‹œì§€í•¨ìˆ˜ ////
const cg = x => console.log(x);

//////////////// ë¡œë“œêµ¬ì—­ /////////////////////////
window.addEventListener("DOMContentLoaded", ()=>{
    console.log("ë¡œë”©ì™„ë£Œ!");

    /************************************************** 
        [ ê²Œìž„ ê¸°ëŠ¥ì •ì˜ ]
        1. ê²Œìž„ë£°: ê±°ë¶ë²„íŠ¼ í´ë¦­í•˜ì—¬ ê±°ë¶ì„
            ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™í•¨
            ì´ë•Œ í† ë¼ëŠ” ìžë™ìœ¼ë¡œ ì´ë™í•˜ì—¬
            ê²°ìŠ¹ì„ ì— ë¨¼ì € ë„ë‹¬í•˜ëŠ” ë ˆì´ì„œê°€ ìŠ¹ë¦¬í•¨
        2. í† ë¼ì˜ ì´ë™ì†ë„ëŠ” ë ˆë²¨ë¡œ ì„¤ì •í•¨
        3. ê²°ìŠ¹ì„  ë„ì°©ì€ ë‘˜ ì¤‘ í•˜ë‚˜ê°€ ë¨¼ì €
            ë„ì°©í•  ê²½ìš° íŒë³„í•¨ìˆ˜ì—ì„œ ê²°ê³¼ë¥¼
            í™”ë©´ì— ì¶œë ¥í•œë‹¤.
        4. í¬ì»¤ìŠ¤ê°€ ë²„íŠ¼ì— ê°ˆ ê²½ìš° ë§ˆìš°ìŠ¤ê°€
            ì•„ë‹Œ í‚¤ë³´ë“œ ë²„íŠ¼ìœ¼ë¡œ ì¡°ìž‘í•  ìˆ˜ ì—†ê²Œí•¨
            (ë§ˆìš°ìŠ¤ë§Œ ì‚¬ìš©í•˜ë„ë¡ í•¨!)
        5. ê¸°ë³¸ì ìœ¼ë¡œ ê±°ë¶ì´ë™ë²„íŠ¼ í´ë¦­ì‹œ
             í† ë¼ëŠ” ìžë™ìœ¼ë¡œ ìž‘ë™ë¨!
        6. í† ë¼ì´ë™ë²„íŠ¼ì€ í† ë¼ë§Œ ë¯¸ë¦¬ ìž‘ë™ê°€ëŠ¥
        7. ì²˜ìŒìœ¼ë¡œ ë²„íŠ¼ì€ ì „ì²´ë¥¼ ë¦¬ì…‹í•¨
    **************************************************/

    // 1. ëŒ€ìƒì„ ì • //////////
    // (1) ê±°ë¶ : #t1
    const t1 = qs("#t1");
    // (2) í† ë¼ : #r1
    const r1 = qs("#r1");
    // (3) ë²„íŠ¼ : #btns a
    const btns = qsa("#btns a");
    // (4) ë ˆë²¨ : #level
    const level = qs("#level");
    // (5) ë©”ì‹œì§€ë°•ìŠ¤ : #msg
    const msg = qs("#msg");
    // (6) í† ë¼, ê±°ë¶ˆ ìœ„ì¹˜ê°’ ë³€ìˆ˜
    let r1pos = 0, t1pos = 0;
    // í† ë¼ìœ„ì¹˜ : r1pos / ê±°ë¶ìœ„ì¹˜ : t1pos

    // cg(msg);
    
    // 2. ì´ë²¤íŠ¸ ì„¤ì •í•˜ê¸° ////////////
    // ëŒ€ìƒ: ë²„íŠ¼ë“¤ - btnsë³€ìˆ˜
    btns.forEach(ele=>{
        // 1.ì´ë²¤íŠ¸ ì„¤ì •
        ele.onclick = e => { //ðŸ“¢e->ì´ë²¤íŠ¸ê°€ ë‚´ë¶€ë¡œ ì „ë‹¬ëŒ
            // (0) ê¸°ë³¸ê¸°ëŠ¥ë§‰ê¸°
            e.preventDefault();
            // (1) ë²„íŠ¼ì¢…ë¥˜í™•ì¸ : ë²„íŠ¼í…ìŠ¤íŠ¸
            let btxt = ele.innerText;
            cg(btxt);

            // (2) ë²„íŠ¼ë³„ ê¸°ëŠ¥ë¶„ê¸°
            // (2-1) í† ë¼ì´ë™
            if(btxt==="í† ë¼ì¶œë°œ"){
                // í† ë¼ ìžë™ì´ë™í•¨ìˆ˜ í˜¸ì¶œ!
                goR1();

                // ìœ„ì¹˜ì´ë™í•˜ê¸°
                r1.style.left = (++r1pos) + "px"; //ðŸ“¢ë ˆí”„íŠ¸ê°’ì„ í”½ì…€ë¡œ ë³€ê²½ì‹œì¼œì£¼ê³  r1posë§Œí¼ ì¦ê°€

            } ///// ifë¬¸ : í† ë¼ì¶œë°œ //////

            // (2-2) ê±°ë¶ì´ë™
            else if(btxt==="ê±°ë¶ì¶œë°œ"){
                // ìœ„ì¹˜ì´ë™ê°’ ì…‹íŒ…
                t1pos += 16;
                // ìœ„ì¹˜ì´ë™í•˜ê¸°
                t1.style.left = t1pos + "px"; 

            } ///// ifë¬¸ : ê±°ë¶ì¶œë°œ //////

        }; /////// click ////
    }); ////////// forEach /////// ðŸ“¢forEachëŠ” ë©”ì„œë“œ




    /********************************************* 
            í•¨ìˆ˜ëª…: goR1
            ê¸°ëŠ¥: í† ë¼ìžë™ì´ë™(ì¸í„°ë°œí•¨ìˆ˜)
    *********************************************/
   let autoI; // ì¸í„°ë°œìš©ë³€ìˆ˜
    function goR1(){
        // í• ë‹¹ì•ˆëœë³€ìˆ˜ê°’ì€ undefinedì´ê³ 
        // ifë¬¸ì—ì„œ falseì²˜ë¦¬ë˜ë¯€ë¡œ
        // í• ë‹¹ì „ ìƒíƒœì¼ë•Œë§Œ ifë¬¸ì— ë“¤ì–´ê°€ê²Œ
        // í•˜ê¸° ìœ„í•´ !(NOTì—°ì‚°ìž)ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤!

        // cg(autoI);

        if(!autoI){ /// í• ë‹¹ì „ì— 1ë²ˆë§Œ í—ˆìš©!
            autoI = setInterval(() => {
                r1.style.left = (++r1pos) + "px";
            }, 10);
    } //////////////// if ////////////

    } ////////////// goR1 í•¨ìˆ˜ ///////////////


}); /////////// ë¡œë“œêµ¬ì—­ ///////////////////////////
